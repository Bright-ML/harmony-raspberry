要在鸿蒙的源码中添加树莓派的开发板，得先分析鸿蒙的编译构建系统。

# 1、menuconfig和Kconfig

进入源码/kernel/liteos_a/目录下执行

```
make menuconfig
```

会进入下图的界面，这个界面基于\kernel\liteos_a\Kconfig这个文件生成，而且这个文件还可以包含其它目录下的Kconfig

![image-20210107104402722](增加新单板.assets/image-20210107104402722.png)

```
包含其他目录下的Kconfig，比如：
source "../../kernel/liteos_a/platform/Kconfig"  #这个文件就是添加新开发板的Kconfig
source "../../kernel/liteos_a/arch/Kconfig"
...
```

打开"../../kernel/liteos_a/platform/Kconfig"，仿照其他单板，添加树莓派配置项。

```
default "BCM2836"         if PLATFORM_RASPBERRYPI2B
...	
config PLATFORM_RASPBERRYPI2B
	bool "BCM2836"
	select ARCH_CORTEX_A7
```

![image-20210107113702170](增加新单板.assets/image-20210107113702170.png)